(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var r;return i.settings.submitHandler?(i.submitButton&&(r=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&r.remove(),!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){if(n(this[0]).is("form"))return this.validate().form();var t=!0,i=n(this[0].form).validate();return this.each(function(){t=t&&i.element(this)}),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var r=this[0],o,u,h;if(t){var e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r);switch(t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(o={},n.each(i.split(/\s/),function(n,t){o[t]=f[t];delete f[t]}),o):(delete s[r.name],f)}}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(h=u.required,delete u.required,u=n.extend({required:h},u)),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(n)).hide())},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var i=n.data(this[0].form,"validator"),r="on"+t.type.replace(/^validate/,"");i.settings[r]&&i.settings[r].call(i,this[0],t)}var r,t;this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",i).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t));this.lastElement=t;this.prepareElement(t);this.currentElements=n(t);var i=this.check(t)!==!1;return i?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var t=0,i;for(i in n)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var r=n(t).attr("type"),i=n(t).val();return"radio"===r||"checkbox"===r?n("input[name='"+n(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){var r,u;t=this.validationTargetFor(this.clean(t));var i,f=n(t).rules(),e=!1,s=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,s,t,u.parameters),"dependency-mismatch"===i){e=!0;continue}if(e=!1,"pending"===i)return this.toHide=this.toHide.not(this.errorsFor(t)),void 0;if(!i)return this.formatAndAdd(t,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o),o;}}if(!e)return(this.objectLength(f)&&this.successList.push(t),!0)},customDataMessage:function(t,i){return n(t).data("msg-"+i.toLowerCase())||t.attributes&&n(t).attr("data-msg-"+i.toLowerCase())},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;arguments.length>n;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r=this.errorsFor(t);r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(r=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(r).length||(this.settings.errorPlacement?this.settings.errorPlacement(r,n(t)):r.insertAfter(t)));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var i=this.idOrName(t);return this.errors().filter(function(){return n(this).attr("for")===i})},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(n){return this.checkable(n)&&(n=this.findByName(n.name).not(this.settings.ignore)[0]),n},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;0>this.pendingRequest&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var u={},e=n(t),f=e[0].getAttribute("type"),r,i;for(r in n.validator.methods)"required"===r?(i=e.get(0).getAttribute(r),""===i&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(null===f||/number|range|text/.test(f))&&(i=Number(i)),i?u[r]=i:f===r&&"range"!==f&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule-"+i.toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return delete t[r],void 0;if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];3>i.length&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(n))},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){var r,e;if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var f=0,i=0,u=!1;for(n=n.replace(/\D/g,""),r=n.length-1;r>=0;r--)e=n.charAt(r),i=parseInt(e,10),u&&(i*=2)>9&&(i-=9),f+=i,u=!u;return 0==f%10},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(n.trim(t),i);return this.optional(i)||u>=r[0]&&r[1]>=u},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&i[1]>=n},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){var f,u,e;return this.optional(i)?"dependency-mismatch":(f=this.previousValue(i),this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t)?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,success:function(r){var e,h,s,o;u.settings.messages[i.name].remote=f.originalMessage;e=r===!0||"true"===r;e?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(s={},o=r||u.defaultMessage(i,"remote"),s[i.name]=f.message=n.isFunction(o)?o(t):o,u.invalid[i.name]=!0,u.showErrors(s));f.valid=e;u.stopRequest(i,e)}},r)),"pending")}}});n.format=n.validator.format})(jQuery),function(n){var t={},i;n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)})}(jQuery),function(n){n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=function(t,i){return typeof i=="undefined"&&(i=typeof window!="undefined"?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)}(function(n){"use strict";function u(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),n(t.target).closest("form").ajaxSubmit(i))}function f(t){var r=t.target,u=n(r),f,i,e;if(!u.is("[type=submit],[type=image]")){if(f=u.closest("[type=submit]"),f.length===0)return;r=f[0]}i=r.form;i.clk=r;r.type==="image"&&(typeof t.offsetX!="undefined"?(i.clk_x=t.offsetX,i.clk_y=t.offsetY):typeof n.fn.offset=="function"?(e=u.offset(),i.clk_x=t.pageX-e.left,i.clk_y=t.pageY-e.top):(i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop));setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function t(){if(n.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var e=/\r?\n/g,i={},r;i.fileapi=n('<input type="file">').get(0).files!==undefined;i.formdata=typeof window.FormData!="undefined";r=!!n.fn.prop;n.fn.attr2=function(){if(!r)return this.attr.apply(this,arguments);var n=this.prop.apply(this,arguments);return n&&n.jquery||typeof n=="string"?n:this.attr.apply(this,arguments)};n.fn.ajaxSubmit=function(u,f,e,o){function lt(t){for(var r=n.param(t,u.traditional).split("&"),o=r.length,e=[],f,i=0;i<o;i++)r[i]=r[i].replace(/\+/g," "),f=r[i].split("="),e.push([decodeURIComponent(f[0]),decodeURIComponent(f[1])]);return e}function at(t){for(var e=new FormData,f,r,o,i=0;i<t.length;i++)e.append(t[i].name,t[i].value);if(u.extraData)for(f=lt(u.extraData),i=0;i<f.length;i++)f[i]&&e.append(f[i][0],f[i][1]);return u.data=null,r=n.extend(!0,{},n.ajaxSettings,u,{contentType:!1,processData:!1,cache:!1,type:l||"POST"}),u.uploadProgress&&(r.xhr=function(){var t=n.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(n){var t=0,i=n.loaded||n.position,r=n.total;n.lengthComputable&&(t=Math.ceil(i/r*100));u.uploadProgress(n,i,r,t)},!1),t}),r.data=null,o=r.beforeSend,r.beforeSend=function(n,t){t.data=u.formData?u.formData:e;o&&o.call(this,n,t)},n.ajax(r)}function ht(i){function ht(n){var i=null;try{n.contentWindow&&(i=n.contentWindow.document)}catch(r){t("cannot get iframe.contentWindow document: "+r)}if(i)return i;try{i=n.contentDocument?n.contentDocument:n.document}catch(r){t("cannot get iframe.contentDocument: "+r);i=n.document}return i}function ct(){function o(){try{var n=ht(c).readyState;t("state = "+n);n&&n.toLowerCase()==="uninitialized"&&setTimeout(o,50)}catch(i){t("Server abort: ",i," (",i.name,")");b(it);g&&clearTimeout(g);g=undefined}}var u=s.attr2("target"),e=s.attr2("action"),y=s.attr("enctype")||s.attr("encoding")||"multipart/form-data",r,i,v;h.setAttribute("target",d);(!l||/post/i.test(l))&&h.setAttribute("method","POST");e!==f.url&&h.setAttribute("action",f.url);f.skipEncodingOverride||l&&!/post/i.test(l)||s.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});f.timeout&&(g=setTimeout(function(){ut=!0;b(ft)},f.timeout));r=[];try{if(f.extraData)for(i in f.extraData)f.extraData.hasOwnProperty(i)&&(n.isPlainObject(f.extraData[i])&&f.extraData[i].hasOwnProperty("name")&&f.extraData[i].hasOwnProperty("value")?r.push(n('<input type="hidden" name="'+f.extraData[i].name+'">',nt).val(f.extraData[i].value).appendTo(h)[0]):r.push(n('<input type="hidden" name="'+i+'">',nt).val(f.extraData[i]).appendTo(h)[0]));f.iframeTarget||a.appendTo(st);c.attachEvent?c.attachEvent("onload",b):c.addEventListener("load",b,!1);setTimeout(o,15);try{h.submit()}catch(p){v=document.createElement("form").submit;v.apply(h)}}finally{h.setAttribute("action",e);h.setAttribute("enctype",y);u?h.setAttribute("target",u):s.removeAttr("target");n(r).remove()}}function b(i){var r,u,w,s,k,d,h,l,v;if(!e.aborted&&!vt){if(o=ht(c),o||(t("cannot access response document"),i=it),i===ft&&e){e.abort("timeout");y.reject(e,"timeout");return}if(i===it&&e){e.abort("server abort");y.reject(e,"error","server abort");return}if(o&&o.location.href!==f.iframeSrc||ut){c.detachEvent?c.detachEvent("onload",b):c.removeEventListener("load",b,!1);r="success";try{if(ut)throw"timeout";if(w=f.dataType==="xml"||o.XMLDocument||n.isXMLDoc(o),t("isXml="+w),!w&&window.opera&&(o.body===null||!o.body.innerHTML)&&--at){t("requeing onLoad callback, DOM not available");setTimeout(b,250);return}s=o.body?o.body:o.documentElement;e.responseText=s?s.innerHTML:null;e.responseXML=o.XMLDocument?o.XMLDocument:o;w&&(f.dataType="xml");e.getResponseHeader=function(n){var t={"content-type":f.dataType};return t[n.toLowerCase()]};s&&(e.status=Number(s.getAttribute("status"))||e.status,e.statusText=s.getAttribute("statusText")||e.statusText);k=(f.dataType||"").toLowerCase();d=/(json|script|text)/.test(k);d||f.textarea?(h=o.getElementsByTagName("textarea")[0],h?(e.responseText=h.value,e.status=Number(h.getAttribute("status"))||e.status,e.statusText=h.getAttribute("statusText")||e.statusText):d&&(l=o.getElementsByTagName("pre")[0],v=o.getElementsByTagName("body")[0],l?e.responseText=l.textContent?l.textContent:l.innerText:v&&(e.responseText=v.textContent?v.textContent:v.innerText))):k==="xml"&&!e.responseXML&&e.responseText&&(e.responseXML=yt(e.responseText));try{lt=wt(e,k,f)}catch(nt){r="parsererror";e.error=u=nt||r}}catch(nt){t("error caught: ",nt);r="error";e.error=u=nt||r}e.aborted&&(t("upload aborted"),r=null);e.status&&(r=e.status>=200&&e.status<300||e.status===304?"success":"error");r==="success"?(f.success&&f.success.call(f.context,lt,"success",e),y.resolve(e.responseText,"success",e),p&&n.event.trigger("ajaxSuccess",[e,f])):r&&(typeof u=="undefined"&&(u=e.statusText),f.error&&f.error.call(f.context,e,r,u),y.reject(e,"error",u),p&&n.event.trigger("ajaxError",[e,f,u]));p&&n.event.trigger("ajaxComplete",[e,f]);p&&!--n.active&&n.event.trigger("ajaxStop");f.complete&&f.complete.call(f.context,e,r);vt=!0;f.timeout&&clearTimeout(g);setTimeout(function(){f.iframeTarget?a.attr("src",f.iframeSrc):a.remove();e.responseXML=null},100)}}}var h=s[0],rt,tt,f,p,d,a,c,e,k,w,ut,g,y=n.Deferred(),nt,st,ft,it,et,ot,lt,o,at,vt;if(y.abort=function(n){e.abort(n)},i)for(tt=0;tt<v.length;tt++)rt=n(v[tt]),r?rt.prop("disabled",!1):rt.removeAttr("disabled");if(f=n.extend(!0,{},n.ajaxSettings,u),f.context=f.context||f,d="jqFormIO"+(new Date).getTime(),nt=h.ownerDocument,st=s.closest("body"),f.iframeTarget?(a=n(f.iframeTarget,nt),w=a.attr2("name"),w?d=w:a.attr2("name",d)):(a=n('<iframe name="'+d+'" src="'+f.iframeSrc+'" />',nt),a.css({position:"absolute",top:"-1000px",left:"-1000px"})),c=a[0],e={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(i){var r=i==="timeout"?"timeout":"aborted";t("aborting upload... "+r);this.aborted=1;try{c.contentWindow.document.execCommand&&c.contentWindow.document.execCommand("Stop")}catch(u){}a.attr("src",f.iframeSrc);e.error=r;f.error&&f.error.call(f.context,e,r,i);p&&n.event.trigger("ajaxError",[e,f,r]);f.complete&&f.complete.call(f.context,e,r)}},p=f.global,p&&n.active++==0&&n.event.trigger("ajaxStart"),p&&n.event.trigger("ajaxSend",[e,f]),f.beforeSend&&f.beforeSend.call(f.context,e,f)===!1)return f.global&&n.active--,y.reject(),y;if(e.aborted)return y.reject(),y;k=h.clk;k&&(w=k.name,w&&!k.disabled&&(f.extraData=f.extraData||{},f.extraData[w]=k.value,k.type==="image"&&(f.extraData[w+".x"]=h.clk_x,f.extraData[w+".y"]=h.clk_y)));ft=1;it=2;et=n("meta[name=csrf-token]").attr("content");ot=n("meta[name=csrf-param]").attr("content");ot&&et&&(f.extraData=f.extraData||{},f.extraData[ot]=et);f.forceSync?ct():setTimeout(ct,10);at=50;var yt=n.parseXML||function(n,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n)):t=(new DOMParser).parseFromString(n,"text/xml"),t&&t.documentElement&&t.documentElement.nodeName!=="parsererror"?t:null},pt=n.parseJSON||function(s){return window.eval("("+s+")")},wt=function(t,i,r){var f=t.getResponseHeader("content-type")||"",e=(i==="xml"||!i)&&f.indexOf("xml")>=0,u=e?t.responseXML:t.responseText;return e&&u.documentElement.nodeName==="parsererror"&&n.error&&n.error("parsererror"),r&&r.dataFilter&&(u=r.dataFilter(u,i)),typeof u=="string"&&((i==="json"||!i)&&f.indexOf("json")>=0?u=pt(u):(i==="script"||!i)&&f.indexOf("javascript")>=0&&n.globalEval(u)),u};return y}var l,g,a,s,p,w,v,b,h,nt,y,c,it,rt,ut,st,k,d;if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;if(s=this,typeof u=="function"?u={success:u}:typeof u=="string"||u===!1&&arguments.length>0?(u={url:u,data:f,dataType:e},typeof o=="function"&&(u.success=o)):typeof u=="undefined"&&(u={}),l=u.method||u.type||this.attr2("method"),g=u.url||this.attr2("action"),a=typeof g=="string"?n.trim(g):"",a=a||window.location.href||"",a&&(a=(a.match(/^([^#]+)/)||[])[1]),u=n.extend(!0,{url:a,success:n.ajaxSettings.success,type:l||n.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},u),p={},this.trigger("form-pre-serialize",[this,u,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(u.beforeSerialize&&u.beforeSerialize(this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;if(w=u.traditional,typeof w=="undefined"&&(w=n.ajaxSettings.traditional),v=[],h=this.formToArray(u.semantic,v,u.filtering),u.data&&(nt=n.isFunction(u.data)?u.data(h):u.data,u.extraData=nt,b=n.param(nt,w)),u.beforeSubmit&&u.beforeSubmit(h,this,u)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[h,this,u,p]),p.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;y=n.param(h,w);b&&(y=y?y+"&"+b:b);u.type.toUpperCase()==="GET"?(u.url+=(u.url.indexOf("?")>=0?"&":"?")+y,u.data=null):u.data=y;c=[];u.resetForm&&c.push(function(){s.resetForm()});u.clearForm&&c.push(function(){s.clearForm(u.includeHidden)});!u.dataType&&u.target?(it=u.success||function(){},c.push(function(t){var i=arguments,r=u.replaceTarget?"replaceWith":"html";n(u.target)[r](t).each(function(){it.apply(this,i)})})):u.success&&(n.isArray(u.success)?n.merge(c,u.success):c.push(u.success));u.success=function(n,t,i){for(var e=u.context||this,r=0,f=c.length;r<f;r++)c[r].apply(e,[n,t,i||s,s])};u.error&&(rt=u.error,u.error=function(n,t,i){var r=u.context||this;rt.apply(r,[n,t,i,s])});u.complete&&(ut=u.complete,u.complete=function(n,t){var i=u.context||this;ut.apply(i,[n,t,s])});var ct=n("input[type=file]:enabled",this).filter(function(){return n(this).val()!==""}),ft=ct.length>0,et="multipart/form-data",ot=s.attr("enctype")===et||s.attr("encoding")===et,tt=i.fileapi&&i.formdata;for(t("fileAPI :"+tt),st=(ft||ot)&&!tt,u.iframe!==!1&&(u.iframe||st)?u.closeKeepAlive?n.get(u.closeKeepAlive,function(){k=ht(h)}):k=ht(h):k=(ft||ot)&&tt?at(h):n.ajax(u),s.removeData("jqxhr").data("jqxhr",k),d=0;d<v.length;d++)v[d]=null;return this.trigger("form-submit-notify",[this,u]),this};n.fn.ajaxForm=function(i,r,e,o){if((typeof i=="string"||i===!1&&arguments.length>0)&&(i={url:i,data:r,dataType:e},typeof o=="function"&&(i.success=o)),i=i||{},i.delegation=i.delegation&&n.isFunction(n.fn.on),!i.delegation&&this.length===0){var s={s:this.selector,c:this.context};return!n.isReady&&s.s?(t("DOM not ready, queuing ajaxForm"),n(function(){n(s.s,s.c).ajaxForm(i)}),this):(t("terminating; zero elements found by selector"+(n.isReady?"":" (DOM not ready)")),this)}if(i.delegation){n(document).off("submit.form-plugin",this.selector,u).off("click.form-plugin",this.selector,f).on("submit.form-plugin",this.selector,i,u).on("click.form-plugin",this.selector,i,f);return this}return this.ajaxFormUnbind().on("submit.form-plugin",i,u).on("click.form-plugin",i,f)};n.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")};n.fn.formToArray=function(t,r,u){var o=[],a,c,e,l,f,k,d,v,w,y;if(this.length===0)return o;var s=this[0],b=this.attr("id"),h=t||typeof s.elements=="undefined"?s.getElementsByTagName("*"):s.elements,p;if(h&&(h=n.makeArray(h)),b&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(p=n(':input[form="'+b+'"]').get(),p.length&&(h=(h||[]).concat(p))),!h||!h.length)return o;for(n.isFunction(u)&&(h=n.map(h,u)),a=0,k=h.length;a<k;a++)if(f=h[a],e=f.name,e&&!f.disabled){if(t&&s.clk&&f.type==="image"){s.clk===f&&(o.push({name:e,value:n(f).val(),type:f.type}),o.push({name:e+".x",value:s.clk_x},{name:e+".y",value:s.clk_y}));continue}if(l=n.fieldValue(f,!0),l&&l.constructor===Array)for(r&&r.push(f),c=0,d=l.length;c<d;c++)o.push({name:e,value:l[c]});else if(i.fileapi&&f.type==="file")if(r&&r.push(f),v=f.files,v.length)for(c=0;c<v.length;c++)o.push({name:e,value:v[c],type:f.type});else o.push({name:e,value:"",type:f.type});else l!==null&&typeof l!="undefined"&&(r&&r.push(f),o.push({name:e,value:l,type:f.type,required:f.required}))}return!t&&s.clk&&(w=n(s.clk),y=w[0],e=y.name,e&&!y.disabled&&y.type==="image"&&(o.push({name:e,value:w.val()}),o.push({name:e+".x",value:s.clk_x},{name:e+".y",value:s.clk_y}))),o};n.fn.formSerialize=function(t){return n.param(this.formToArray(t))};n.fn.fieldSerialize=function(t){var i=[];return this.each(function(){var f=this.name,r,u,e;if(f)if(r=n.fieldValue(this,t),r&&r.constructor===Array)for(u=0,e=r.length;u<e;u++)i.push({name:f,value:r[u]});else r!==null&&typeof r!="undefined"&&i.push({name:this.name,value:r})}),n.param(i)};n.fn.fieldValue=function(t){for(var f,i,r=[],u=0,e=this.length;u<e;u++)(f=this[u],i=n.fieldValue(f,t),i!==null&&typeof i!="undefined"&&(i.constructor!==Array||i.length))&&(i.constructor===Array?n.merge(r,i):r.push(i));return r};n.fieldValue=function(t,i){var v=t.name,u=t.type,c=t.tagName.toLowerCase(),o,s,r,f;if(typeof i=="undefined"&&(i=!0),i&&(!v||t.disabled||u==="reset"||u==="button"||(u==="checkbox"||u==="radio")&&!t.checked||(u==="submit"||u==="image")&&t.form&&t.form.clk!==t||c==="select"&&t.selectedIndex===-1))return null;if(c==="select"){if(o=t.selectedIndex,o<0)return null;var l=[],a=t.options,h=u==="select-one",y=h?o+1:a.length;for(s=h?o:0;s<y;s++)if(r=a[s],r.selected&&!r.disabled){if(f=r.value,f||(f=r.attributes&&r.attributes.value&&!r.attributes.value.specified?r.text:r.value),h)return f;l.push(f)}return l}return n(t).val().replace(e,"\r\n")};n.fn.clearForm=function(t){return this.each(function(){n("input,select,textarea",this).clearFields(t)})};n.fn.clearFields=n.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,u=this.tagName.toLowerCase();i.test(r)||u==="textarea"?this.value="":r==="checkbox"||r==="radio"?this.checked=!1:u==="select"?this.selectedIndex=-1:r==="file"?/MSIE/.test(navigator.userAgent)?n(this).replaceWith(n(this).clone(!0)):n(this).val(""):t&&(t===!0&&/hidden/.test(r)||typeof t=="string"&&n(this).is(t))&&(this.value="")})};n.fn.resetForm=function(){return this.each(function(){var t=n(this),f=this.tagName.toLowerCase(),i,r,u;switch(f){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":return i=t.parents("select"),i.length&&i[0].multiple?f==="option"?this.selected=this.defaultSelected:t.find("option").resetForm():i.resetForm(),!0;case"select":return t.find("option").each(function(n){return this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple?(t[0].selectedIndex=n,!1):void 0}),!0;case"label":return r=n(t.attr("for")),u=t.find("input,select,textarea"),r[0]&&u.unshift(r[0]),u.resetForm(),!0;case"form":return typeof this.reset!="function"&&(typeof this.reset!="object"||this.reset.nodeType)||this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})};n.fn.enable=function(n){return typeof n=="undefined"&&(n=!0),this.each(function(){this.disabled=!n})};n.fn.selected=function(t){return typeof t=="undefined"&&(t=!0),this.each(function(){var r=this.type,i;r==="checkbox"||r==="radio"?this.checked=t:this.tagName.toLowerCase()==="option"&&(i=n(this).parent("select"),t&&i[0]&&i[0].type==="select-one"&&i.find("option").selected(!1),this.selected=t)})};n.fn.ajaxSubmit.debug=!1});$.validator.addMethod("isAfricaMobile",function(n,t){return this.optional(t)||MOBILE_PATTNER.test(n)},"The Phone number is invalid");$.validator.addMethod("checkSpace",function(n,t){return this.optional(t)||!/\s/g.test(n)},"Space not allowed");$.validator.addMethod("isMTNMobile",function(n,t){return this.optional(t)||/(^0\d{9}$|^[1-9]\d{8}$)/.test(n)&&/^0(96|76)\d{7}$|^(96|76)\d{7}$/.test(n)},"Please enter MTN mobile number");$.validator.addMethod("digitstrimbank",function(n,t){var i=n.replace(/\s+/g,"");return this.optional(t)||/^\d+$/.test(i)},"Please enter only digits.");$.validator.addMethod("rangelengthtrimbank",function(n,t,i){var u=n.replace(/\s+/g,""),r=this.getLength(u,t);return this.optional(t)||r>=i[0]&&r<=i[1]},$.validator.format("Please enter a value between {0} and {1} characters long"));$.validator.addMethod("moneyMin",function(n,t,i){var r=new FormatNumber;return n=r.getMoneyfloat(n),this.optional(t)||n>=i});$.validator.addMethod("moneyMax",function(n,t,i){var r=new FormatNumber;return n=r.getMoneyfloat(n),this.optional(t)||n<=i});$.validator.addMethod("formatDigit",function(n,t){var i=new FormatNumber;return n=i.getMoneyfloat(n),this.optional(t)||/^\d+$/.test(n)})